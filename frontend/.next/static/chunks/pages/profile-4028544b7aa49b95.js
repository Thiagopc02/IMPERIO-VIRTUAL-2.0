(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return s(4317)}])},4317:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return i}});var n=s(5893),a=s(7294),r=s(7066),c=s(1163);function i(){let[e,t]=(0,a.useState)([]),s=(0,c.useRouter)();return(0,a.useEffect)(()=>{{let e=localStorage.getItem("token"),n=JSON.parse(localStorage.getItem("user"));if(!e||!n){s.push("/login");return}r.Z.get("http://localhost:5000/api/orders/".concat(n.id),{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>t(e.data)).catch(e=>console.error("Erro ao buscar pedidos:",e))}},[s]),(0,n.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gray-100",children:(0,n.jsxs)("div",{className:"bg-white shadow-lg rounded-lg p-8 w-full max-w-4xl",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-yellow-600 mb-6 text-center",children:"Meus Pedidos"}),e.length>0?(0,n.jsx)("ul",{className:"divide-y divide-gray-300",children:e.map(e=>(0,n.jsxs)("li",{className:"py-4",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("span",{className:"font-semibold text-gray-700",children:["ID Pedido: ",e.order_id]}),(0,n.jsxs)("span",{className:"text-yellow-500",children:["R$ ",e.total_price.toFixed(2)]}),(0,n.jsx)("span",{className:"px-2 py-1 rounded-full text-sm ".concat("pendente"===e.status?"bg-red-200 text-red-800":"bg-green-200 text-green-800"),children:e.status})]}),(0,n.jsxs)("div",{className:"text-sm text-gray-600 mt-2",children:["Data: ",new Date(e.created_at).toLocaleDateString()," ",(0,n.jsx)("br",{}),"Endere\xe7o: ",e.address,(0,n.jsx)("br",{}),"Itens: ",e.items.map(e=>"".concat(e.quantity,"x ").concat(e.product_id)).join(", ")]})]},e.order_id))}):(0,n.jsx)("div",{className:"text-center text-gray-500",children:"Voc\xea ainda n\xe3o fez nenhum pedido."})]})})}}},function(e){e.O(0,[66,888,774,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);